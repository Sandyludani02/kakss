<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistem Sekolah SDN Pakasua</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #3498db;
            --secondary-color: #2980b9;
            --accent-color: #e74c3c;
            --light-color: #ecf0f1;
            --dark-color: #2c3e50;
            --success-color: #2ecc71;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            display: flex;
            min-height: 100vh;
            background-color: #f5f5f5;
        }
        
        .sidebar {
            width: 250px;
            background-color: var(--dark-color);
            color: white;
            height: 100vh;
            position: fixed;
            transition: all 0.3s;
            overflow-y: auto;
        }
        
        .sidebar-header {
            padding: 20px;
            background-color: var(--primary-color);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }
        
        .logo {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background-color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 10px;
            overflow: hidden;
        }
        
        .logo img {
            max-width: 100%;
            max-height: 100%;
        }
        
        .school-name {
            text-align: center;
            font-size: 18px;
            font-weight: bold;
        }
        
        .sidebar-menu {
            padding: 20px 0;
        }
        
        .menu-item {
            padding: 12px 20px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
        }
        
        .menu-item:hover {
            background-color: var(--primary-color);
        }
        
        .menu-item.active {
            background-color: var(--secondary-color);
            border-left: 4px solid var(--accent-color);
        }
        
        .menu-item i {
            margin-right: 10px;
            width: 20px;
            text-align: center;
        }
        
        .main-content {
            flex: 1;
            margin-left: 250px;
            padding: 20px;
            transition: all 0.3s;
        }
        
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid #ddd;
        }
        
        .page-title {
            font-size: 24px;
            color: var(--dark-color);
        }
        
        .user-info {
            display: flex;
            align-items: center;
        }
        
        .user-info img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin-right: 10px;
        }
        
        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
        }
        
        .stat-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: var(--light-color);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            color: var(--primary-color);
            font-size: 20px;
        }
        
        .stat-info h3 {
            font-size: 14px;
            color: #777;
            margin-bottom: 5px;
        }
        
        .stat-info p {
            font-size: 24px;
            font-weight: bold;
            color: var(--dark-color);
        }
        
        .form-container {
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
        }
        
        .form-title {
            font-size: 18px;
            margin-bottom: 20px;
            color: var(--dark-color);
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            color: #555;
        }
        
        .form-control {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
        }
        
        .form-control:focus {
            outline: none;
            border-color: var(--primary-color);
        }
        
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s;
        }
        
        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }
        
        .btn-primary:hover {
            background-color: var(--secondary-color);
        }
        
        .btn-danger {
            background-color: var(--accent-color);
            color: white;
        }
        
        .btn-danger:hover {
            background-color: #c0392b;
        }
        
        .btn-success {
            background-color: var(--success-color);
            color: white;
        }
        
        .btn-success:hover {
            background-color: #27ae60;
        }
        
        .table-container {
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
        }
        
        th, td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }
        
        th {
            background-color: #f8f9fa;
            color: #555;
            font-weight: 600;
        }
        
        tr:hover {
            background-color: #f5f5f5;
        }
        
        .action-buttons {
            display: flex;
            gap: 5px;
        }
        
        .action-btn {
            padding: 5px 10px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
        }
        
        .edit-btn {
            background-color: #f39c12;
            color: white;
        }
        
        .delete-btn {
            background-color: var(--accent-color);
            color: white;
        }
        
        .view-btn {
            background-color: var(--primary-color);
            color: white;
        }
        
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <!-- Sidebar -->
    <div class="sidebar">
        <div class="sidebar-header">
            <div class="logo">
                <img src="https://via.placeholder.com/80" alt="Logo SDN Pakasua">
            </div>
            <div class="school-name">SDN PAKASUA</div>
        </div>
        
        <div class="sidebar-menu">
            <div class="menu-item active" data-target="dashboard">
                <i class="fas fa-tachometer-alt"></i>
                <span>Dashboard</span>
            </div>
            <div class="menu-item" data-target="siswa">
                <i class="fas fa-users"></i>
                <span>Data Siswa</span>
            </div>
            <div class="menu-item" data-target="guru">
                <i class="fas fa-chalkboard-teacher"></i>
                <span>Data Guru</span>
            </div>
            <div class="menu-item" data-target="kelas">
                <i class="fas fa-school"></i>
                <span>Data Kelas</span>
            </div>
            <div class="menu-item" data-target="pelajaran">
                <i class="fas fa-book"></i>
                <span>Mata Pelajaran</span>
            </div>
            <div class="menu-item" data-target="nilai">
                <i class="fas fa-clipboard-list"></i>
                <span>Nilai Siswa</span>
            </div>
            <div class="menu-item" data-target="absensi">
                <i class="fas fa-calendar-check"></i>
                <span>Absensi</span>
            </div>
            <div class="menu-item" data-target="pengguna">
                <i class="fas fa-user-cog"></i>
                <span>Pengguna Sistem</span>
            </div>
            <div class="menu-item" data-target="laporan">
                <i class="fas fa-file-alt"></i>
                <span>Laporan</span>
            </div>
        </div>
    </div>
    
    <!-- Main Content -->
    <div class="main-content">
        <div class="header">
            <h1 class="page-title">Dashboard</h1>
            <div class="user-info">
                <img src="https://via.placeholder.com/40" alt="User">
                <span>Admin SDN Pakasua</span>
            </div>
        </div>
        
        <!-- Dashboard Content -->
        <div id="dashboard-content">
            <!-- Statistik -->
            <div class="stats-container">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="stat-info">
                        <h3>Total Siswa</h3>
                        <p id="total-siswa">0</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-chalkboard-teacher"></i>
                    </div>
                    <div class="stat-info">
                        <h3>Total Guru</h3>
                        <p id="total-guru">0</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-school"></i>
                    </div>
                    <div class="stat-info">
                        <h3>Total Kelas</h3>
                        <p id="total-kelas">0</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-book"></i>
                    </div>
                    <div class="stat-info">
                        <h3>Mata Pelajaran</h3>
                        <p id="total-pelajaran">0</p>
                    </div>
                </div>
            </div>
            
            <div class="table-container">
                <h2 class="form-title">Aktivitas Terkini</h2>
                <table id="aktivitas-table">
                    <thead>
                        <tr>
                            <th>No</th>
                            <th>Tanggal</th>
                            <th>Aktivitas</th>
                            <th>Pengguna</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Data aktivitas akan diisi oleh JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>
        
        <!-- Data Siswa Content (hidden by default) -->
        <div id="siswa-content" class="hidden">
            <!-- Form Input Data Siswa -->
            <div class="form-container" id="form-siswa">
                <h2 class="form-title">Tambah Data Siswa</h2>
                <form id="siswa-form">
                    <div class="form-group">
                        <label for="nis">NIS</label>
                        <input type="text" class="form-control" id="nis" placeholder="Masukkan NIS" required>
                    </div>
                    <div class="form-group">
                        <label for="nama">Nama Lengkap</label>
                        <input type="text" class="form-control" id="nama" placeholder="Masukkan nama lengkap" required>
                    </div>
                    <div class="form-group">
                        <label for="kelas">Kelas</label>
                        <select class="form-control" id="kelas" required>
                            <option value="">Pilih Kelas</option>
                            <option value="1A">1A</option>
                            <option value="1B">1B</option>
                            <option value="2A">2A</option>
                            <option value="2B">2B</option>
                            <option value="3A">3A</option>
                            <option value="3B">3B</option>
                            <option value="4A">4A</option>
                            <option value="4B">4B</option>
                            <option value="5A">5A</option>
                            <option value="5B">5B</option>
                            <option value="6A">6A</option>
                            <option value="6B">6B</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="alamat">Alamat</label>
                        <textarea class="form-control" id="alamat" rows="3" placeholder="Masukkan alamat"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="telepon">No. Telepon</label>
                        <input type="text" class="form-control" id="telepon" placeholder="Masukkan nomor telepon">
                    </div>
                    <button type="submit" class="btn btn-primary">Simpan Data</button>
                    <button type="reset" class="btn btn-danger">Reset</button>
                </form>
            </div>
            
            <!-- Tabel Data Siswa -->
            <div class="table-container">
                <h2 class="form-title">Daftar Siswa SDN Pakasua</h2>
                <table id="siswa-table">
                    <thead>
                        <tr>
                            <th>No</th>
                            <th>NIS</th>
                            <th>Nama</th>
                            <th>Kelas</th>
                            <th>Alamat</th>
                            <th>Telepon</th>
                            <th>Aksi</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Data siswa akan diisi oleh JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>
        
        <!-- Data Guru Content (hidden by default) -->
        <div id="guru-content" class="hidden">
            <!-- Form Input Data Guru -->
            <div class="form-container" id="form-guru">
                <h2 class="form-title">Tambah Data Guru</h2>
                <form id="guru-form">
                    <div class="form-group">
                        <label for="nip">NIP</label>
                        <input type="text" class="form-control" id="nip" placeholder="Masukkan NIP" required>
                    </div>
                    <div class="form-group">
                        <label for="nama-guru">Nama Lengkap</label>
                        <input type="text" class="form-control" id="nama-guru" placeholder="Masukkan nama lengkap" required>
                    </div>
                    <div class="form-group">
                        <label for="mapel">Mata Pelajaran</label>
                        <input type="text" class="form-control" id="mapel" placeholder="Masukkan mata pelajaran" required>
                    </div>
                    <div class="form-group">
                        <label for="telepon-guru">No. Telepon</label>
                        <input type="text" class="form-control" id="telepon-guru" placeholder="Masukkan nomor telepon">
                    </div>
                    <div class="form-group">
                        <label for="alamat-guru">Alamat</label>
                        <textarea class="form-control" id="alamat-guru" rows="3" placeholder="Masukkan alamat"></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary">Simpan Data</button>
                    <button type="reset" class="btn btn-danger">Reset</button>
                </form>
            </div>
            
            <!-- Tabel Data Guru -->
            <div class="table-container">
                <h2 class="form-title">Daftar Guru SDN Pakasua</h2>
                <table id="guru-table">
                    <thead>
                        <tr>
                            <th>No</th>
                            <th>NIP</th>
                            <th>Nama</th>
                            <th>Mata Pelajaran</th>
                            <th>Telepon</th>
                            <th>Aksi</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Data guru akan diisi oleh JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>
        
        <!-- Data Kelas Content (hidden by default) -->
        <div id="kelas-content" class="hidden">
            <!-- Form Input Data Kelas -->
            <div class="form-container" id="form-kelas">
                <h2 class="form-title">Tambah Data Kelas</h2>
                <form id="kelas-form">
                    <div class="form-group">
                        <label for="kode-kelas">Kode Kelas</label>
                        <input type="text" class="form-control" id="kode-kelas" placeholder="Masukkan kode kelas" required>
                    </div>
                    <div class="form-group">
                        <label for="nama-kelas">Nama Kelas</label>
                        <input type="text" class="form-control" id="nama-kelas" placeholder="Masukkan nama kelas" required>
                    </div>
                    <div class="form-group">
                        <label for="wali-kelas">Wali Kelas</label>
                        <select class="form-control" id="wali-kelas" required>
                            <option value="">Pilih Wali Kelas</option>
                            <!-- Opsi wali kelas akan diisi oleh JavaScript -->
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="kapasitas">Kapasitas Siswa</label>
                        <input type="number" class="form-control" id="kapasitas" placeholder="Masukkan kapasitas siswa" required>
                    </div>
                    <button type="submit" class="btn btn-primary">Simpan Data</button>
                    <button type="reset" class="btn btn-danger">Reset</button>
                </form>
            </div>
            
            <!-- Tabel Data Kelas -->
            <div class="table-container">
                <h2 class="form-title">Daftar Kelas SDN Pakasua</h2>
                <table id="kelas-table">
                    <thead>
                        <tr>
                            <th>No</th>
                            <th>Kode Kelas</th>
                            <th>Nama Kelas</th>
                            <th>Wali Kelas</th>
                            <th>Jumlah Siswa</th>
                            <th>Kapasitas</th>
                            <th>Aksi</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Data kelas akan diisi oleh JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>
        
        <!-- Mata Pelajaran Content (hidden by default) -->
        <div id="pelajaran-content" class="hidden">
            <!-- Form Input Mata Pelajaran -->
            <div class="form-container" id="form-pelajaran">
                <h2 class="form-title">Tambah Mata Pelajaran</h2>
                <form id="pelajaran-form">
                    <div class="form-group">
                        <label for="kode-pelajaran">Kode Pelajaran</label>
                        <input type="text" class="form-control" id="kode-pelajaran" placeholder="Masukkan kode pelajaran" required>
                    </div>
                    <div class="form-group">
                        <label for="nama-pelajaran">Nama Pelajaran</label>
                        <input type="text" class="form-control" id="nama-pelajaran" placeholder="Masukkan nama pelajaran" required>
                    </div>
                    <div class="form-group">
                        <label for="guru-pelajaran">Guru Pengampu</label>
                        <select class="form-control" id="guru-pelajaran" required>
                            <option value="">Pilih Guru</option>
                            <!-- Opsi guru akan diisi oleh JavaScript -->
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="kelas-pelajaran">Kelas</label>
                        <select class="form-control" id="kelas-pelajaran" multiple required>
                            <option value="1A">1A</option>
                            <option value="1B">1B</option>
                            <option value="2A">2A</option>
                            <option value="2B">2B</option>
                            <option value="3A">3A</option>
                            <option value="3B">3B</option>
                            <option value="4A">4A</option>
                            <option value="4B">4B</option>
                            <option value="5A">5A</option>
                            <option value="5B">5B</option>
                            <option value="6A">6A</option>
                            <option value="6B">6B</option>
                        </select>
                    </div>
                    <button type="submit" class="btn btn-primary">Simpan Data</button>
                    <button type="reset" class="btn btn-danger">Reset</button>
                </form>
            </div>
            
            <!-- Tabel Mata Pelajaran -->
            <div class="table-container">
                <h2 class="form-title">Daftar Mata Pelajaran</h2>
                <table id="pelajaran-table">
                    <thead>
                        <tr>
                            <th>No</th>
                            <th>Kode</th>
                            <th>Nama Pelajaran</th>
                            <th>Guru Pengampu</th>
                            <th>Kelas</th>
                            <th>Aksi</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Data pelajaran akan diisi oleh JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>
        
        <!-- Nilai Siswa Content (hidden by default) -->
        <div id="nilai-content" class="hidden">
            <!-- Form Input Nilai -->
            <div class="form-container" id="form-nilai">
                <h2 class="form-title">Input Nilai Siswa</h2>
                <form id="nilai-form">
                    <div class="form-group">
                        <label for="siswa-nilai">Siswa</label>
                        <select class="form-control" id="siswa-nilai" required>
                            <option value="">Pilih Siswa</option>
                            <!-- Opsi siswa akan diisi oleh JavaScript -->
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="pelajaran-nilai">Mata Pelajaran</label>
                        <select class="form-control" id="pelajaran-nilai" required>
                            <option value="">Pilih Mata Pelajaran</option>
                            <!-- Opsi pelajaran akan diisi oleh JavaScript -->
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="semester">Semester</label>
                        <select class="form-control" id="semester" required>
                            <option value="1">Semester 1</option>
                            <option value="2">Semester 2</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="nilai-uh">Nilai UH</label>
                        <input type="number" class="form-control" id="nilai-uh" placeholder="Masukkan nilai UH" min="0" max="100" required>
                    </div>
                    <div class="form-group">
                        <label for="nilai-uts">Nilai UTS</label>
                        <input type="number" class="form-control" id="nilai-uts" placeholder="Masukkan nilai UTS" min="0" max="100" required>
                    </div>
                    <div class="form-group">
                        <label for="nilai-uas">Nilai UAS</label>
                        <input type="number" class="form-control" id="nilai-uas" placeholder="Masukkan nilai UAS" min="0" max="100" required>
                    </div>
                    <button type="submit" class="btn btn-primary">Simpan Nilai</button>
                    <button type="reset" class="btn btn-danger">Reset</button>
                </form>
            </div>
            
            <!-- Tabel Nilai Siswa -->
            <div class="table-container">
                <h2 class="form-title">Daftar Nilai Siswa</h2>
                <table id="nilai-table">
                    <thead>
                        <tr>
                            <th>No</th>
                            <th>Nama Siswa</th>
                            <th>Kelas</th>
                            <th>Mata Pelajaran</th>
                            <th>Semester</th>
                            <th>UH</th>
                            <th>UTS</th>
                            <th>UAS</th>
                            <th>Rata-rata</th>
                            <th>Aksi</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Data nilai akan diisi oleh JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>
        
        <!-- Absensi Content (hidden by default) -->
        <div id="absensi-content" class="hidden">
            <!-- Form Input Absensi -->
            <div class="form-container" id="form-absensi">
                <h2 class="form-title">Input Absensi</h2>
                <form id="absensi-form">
                    <div class="form-group">
                        <label for="tanggal-absensi">Tanggal</label>
                        <input type="date" class="form-control" id="tanggal-absensi" required>
                    </div>
                    <div class="form-group">
                        <label for="kelas-absensi">Kelas</label>
                        <select class="form-control" id="kelas-absensi" required>
                            <option value="">Pilih Kelas</option>
                            <option value="1A">1A</option>
                            <option value="1B">1B</option>
                            <option value="2A">2A</option>
                            <option value="2B">2B</option>
                            <option value="3A">3A</option>
                            <option value="3B">3B</option>
                            <option value="4A">4A</option>
                            <option value="4B">4B</option>
                            <option value="5A">5A</option>
                            <option value="5B">5B</option>
                            <option value="6A">6A</option>
                            <option value="6B">6B</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="pelajaran-absensi">Mata Pelajaran</label>
                        <select class="form-control" id="pelajaran-absensi" required>
                            <option value="">Pilih Mata Pelajaran</option>
                            <!-- Opsi pelajaran akan diisi oleh JavaScript -->
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="guru-absensi">Guru</label>
                        <select class="form-control" id="guru-absensi" required>
                            <option value="">Pilih Guru</option>
                            <!-- Opsi guru akan diisi oleh JavaScript -->
                        </select>
                    </div>
                    <button type="button" class="btn btn-primary" id="btn-tampilkan-siswa">Tampilkan Siswa</button>
                </form>
            </div>
            
            <!-- Daftar Siswa untuk Absensi -->
            <div class="table-container hidden" id="daftar-siswa-absensi">
                <h2 class="form-title">Daftar Siswa</h2>
                <form id="form-daftar-absensi">
                    <table id="absensi-table">
                        <thead>
                            <tr>
                                <th>No</th>
                                <th>NIS</th>
                                <th>Nama Siswa</th>
                                <th>Status</th>
                                <th>Keterangan</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Data siswa untuk absensi akan diisi oleh JavaScript -->
                        </tbody>
                    </table>
                    <button type="submit" class="btn btn-primary mt-3">Simpan Absensi</button>
                </form>
            </div>
            
            <!-- Rekap Absensi -->
            <div class="table-container">
                <h2 class="form-title">Rekap Absensi</h2>
                <table id="rekap-absensi-table">
                    <thead>
                        <tr>
                            <th>No</th>
                            <th>Tanggal</th>
                            <th>Kelas</th>
                            <th>Mata Pelajaran</th>
                            <th>Guru</th>
                            <th>Hadir</th>
                            <th>Izin</th>
                            <th>Sakit</th>
                            <th>Alpha</th>
                            <th>Aksi</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Data rekap absensi akan diisi oleh JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>
        
        <!-- Pengguna Sistem Content (hidden by default) -->
        <div id="pengguna-content" class="hidden">
            <!-- Form Input Pengguna -->
            <div class="form-container" id="form-pengguna">
                <h2 class="form-title">Tambah Pengguna Sistem</h2>
                <form id="pengguna-form">
                    <div class="form-group">
                        <label for="username">Username</label>
                        <input type="text" class="form-control" id="username" placeholder="Masukkan username" required>
                    </div>
                    <div class="form-group">
                        <label for="password">Password</label>
                        <input type="password" class="form-control" id="password" placeholder="Masukkan password" required>
                    </div>
                    <div class="form-group">
                        <label for="nama-pengguna">Nama Lengkap</label>
                        <input type="text" class="form-control" id="nama-pengguna" placeholder="Masukkan nama lengkap" required>
                    </div>
                    <div class="form-group">
                        <label for="role">Role</label>
                        <select class="form-control" id="role" required>
                            <option value="">Pilih Role</option>
                            <option value="admin">Admin</option>
                            <option value="guru">Guru</option>
                            <option value="staff">Staff</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" class="form-control" id="email" placeholder="Masukkan email">
                    </div>
                    <button type="submit" class="btn btn-primary">Simpan Data</button>
                    <button type="reset" class="btn btn-danger">Reset</button>
                </form>
            </div>
            
            <!-- Tabel Pengguna Sistem -->
            <div class="table-container">
                <h2 class="form-title">Daftar Pengguna Sistem</h2>
                <table id="pengguna-table">
                    <thead>
                        <tr>
                            <th>No</th>
                            <th>Username</th>
                            <th>Nama</th>
                            <th>Role</th>
                            <th>Email</th>
                            <th>Status</th>
                            <th>Aksi</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Data pengguna akan diisi oleh JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>
        
        <!-- Laporan Content (hidden by default) -->
        <div id="laporan-content" class="hidden">
            <!-- Form Filter Laporan -->
            <div class="form-container" id="form-filter-laporan">
                <h2 class="form-title">Filter Laporan</h2>
                <form id="filter-laporan-form">
                    <div class="form-group">
                        <label for="jenis-laporan">Jenis Laporan</label>
                        <select class="form-control" id="jenis-laporan" required>
                            <option value="">Pilih Jenis Laporan</option>
                            <option value="siswa">Data Siswa</option>
                            <option value="guru">Data Guru</option>
                            <option value="nilai">Nilai Siswa</option>
                            <option value="absensi">Absensi Siswa</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="kelas-laporan">Kelas</label>
                        <select class="form-control" id="kelas-laporan">
                            <option value="">Semua Kelas</option>
                            <option value="1A">1A</option>
                            <option value="1B">1B</option>
                            <option value="2A">2A</option>
                            <option value="2B">2B</option>
                            <option value="3A">3A</option>
                            <option value="3B">3B</option>
                            <option value="4A">4A</option>
                            <option value="4B">4B</option>
                            <option value="5A">5A</option>
                            <option value="5B">5B</option>
                            <option value="6A">6A</option>
                            <option value="6B">6B</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="semester-laporan">Semester</label>
                        <select class="form-control" id="semester-laporan">
                            <option value="">Semua Semester</option>
                            <option value="1">Semester 1</option>
                            <option value="2">Semester 2</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="tahun-ajaran">Tahun Ajaran</label>
                        <input type="text" class="form-control" id="tahun-ajaran" placeholder="Contoh: 2023/2024">
                    </div>
                    <button type="submit" class="btn btn-primary">Tampilkan Laporan</button>
                    <button type="button" class="btn btn-success" id="btn-cetak-laporan">Cetak Laporan</button>
                </form>
            </div>
            
            <!-- Hasil Laporan -->
            <div class="table-container mt-4" id="hasil-laporan">
                <h2 class="form-title">Hasil Laporan</h2>
                <div id="laporan-container">
                    <!-- Konten laporan akan diisi oleh JavaScript -->
                    <p class="text-center">Silakan pilih jenis laporan dan filter yang diinginkan</p>
                </div>
            </div>
        </div>
    </div>

<script> 
    document.addEventListener('DOMContentLoaded', function() {
    // --- Menu Handling ---
    const menuItems = document.querySelectorAll('.menu-item');
    const contentDivs = {
        'dashboard': document.getElementById('dashboard-content'),
        'siswa': document.getElementById('siswa-content'),
        'guru': document.getElementById('guru-content'),
        'kelas': document.getElementById('kelas-content'),
        'pelajaran': document.getElementById('pelajaran-content'),
        'nilai': document.getElementById('nilai-content'),
        'absensi': document.getElementById('absensi-content'),
        'pengguna': document.getElementById('pengguna-content'),
        'laporan': document.getElementById('laporan-content')
    };

    // Function to hide all content divs
    function hideAllContent() {
        for (let key in contentDivs) {
            if (contentDivs.hasOwnProperty(key)) {
                contentDivs[key].classList.add('hidden');
            }
        }
    }

    // Function to handle menu item clicks
    function handleMenuItemClick(event) {
        const target = event.currentTarget.dataset.target;

        // Hide all content
        hideAllContent();

        // Show the selected content
        if (contentDivs[target]) {
            contentDivs[target].classList.remove('hidden');
        }

        // Update active menu item
        menuItems.forEach(item => item.classList.remove('active'));
        event.currentTarget.classList.add('active');
    }

    // Attach click event listeners to menu items
    menuItems.forEach(item => {
        item.addEventListener('click', handleMenuItemClick);
    });

    // Initially show the dashboard content and highlight the Dashboard menu item
    hideAllContent();
    if (contentDivs['dashboard']) {
        contentDivs['dashboard'].classList.remove('hidden');
    }
    menuItems.forEach(item => {
        if (item.dataset.target === 'dashboard') {
            item.classList.add('active');
        }
    });

    // --- Data Storage ---
    let siswaData = [
        { nis: '12345', nama: 'Budi Santoso', kelas: '5A', alamat: 'Jl. Merdeka No. 10', telepon: '081234567890' },
        { nis: '67890', nama: 'Siti Aminah', kelas: '5A', alamat: 'Jl. Pahlawan No. 20', telepon: '082345678901' },
        { nis: '13579', nama: 'Rudi Hartono', kelas: '5B', alamat: 'Jl. Sudirman No. 30', telepon: '083456789012' }
    ];

    let guruData = [
        { nip: '98765', nama: 'Dra. Ani Susanti', mapel: 'Matematika', telepon: '087654321098', alamat: 'Jl. Kenangan No. 45' },
        { nip: '54321', nama: 'Drs. Budi Setiawan', mapel: 'IPA', telepon: '086543210987', alamat: 'Jl. Kebahagiaan No. 56' }
    ];

    let kelasData = [
        { kodeKelas: '1A', namaKelas: 'Kelas 1A', waliKelas: 'Dra. Ani Susanti', kapasitas: 30 },
        { kodeKelas: '1B', namaKelas: 'Kelas 1B', waliKelas: 'Drs. Budi Setiawan', kapasitas: 30 }
    ];

    let pelajaranData = [
        { kode: 'MP001', namaPelajaran: 'Matematika', guruPengampu: 'Dra. Ani Susanti', kelas: ['5A', '5B'] },
        { kode: 'MP002', namaPelajaran: 'IPA', guruPengampu: 'Drs. Budi Setiawan', kelas: ['5A', '5B'] }
    ];

    let nilaiData = [
        { namaSiswa: 'Budi Santoso', kelas: '5A', mataPelajaran: 'Matematika', semester: '1', uh: 80, uts: 75, uas: 85 },
        { namaSiswa: 'Siti Aminah', kelas: '5A', mataPelajaran: 'IPA', semester: '1', uh: 70, uts: 80, uas: 90 }
    ];

    let penggunaData = [
        { username: 'admin', nama: 'Administrator', role: 'admin', email: 'admin@sdnpakasua.sch.id', status: 'Aktif' },
        { username: 'guru1', nama: 'Guru Matematika', role: 'guru', email: 'guru1@sdnpakasua.sch.id', status: 'Aktif' }
    ];

    let rekapAbsensiData = [];

    // --- Dashboard Content ---
    document.getElementById('total-siswa').innerText = siswaData.length;
    document.getElementById('total-guru').innerText = guruData.length;
    document.getElementById('total-kelas').innerText = kelasData.length;
    document.getElementById('total-pelajaran').innerText = pelajaranData.length;

    const aktivitasTableBody = document.querySelector('#aktivitas-table tbody');
    const aktivitasData = [
        { tanggal: '2025-05-09', aktivitas: 'Menambahkan data siswa baru', pengguna: 'Admin' },
        { tanggal: '2025-05-08', aktivitas: 'Mengupdate data guru', pengguna: 'Admin' },
        { tanggal: '2025-05-07', aktivitas: 'Input nilai siswa', pengguna: 'Guru' }
    ];

    aktivitasData.forEach((data, index) => {
        let row = aktivitasTableBody.insertRow();
        let noCell = row.insertCell(0);
        let tanggalCell = row.insertCell(1);
        let aktivitasCell = row.insertCell(2);
        let penggunaCell = row.insertCell(3);

        noCell.innerText = index + 1;
        tanggalCell.innerText = data.tanggal;
        aktivitasCell.innerText = data.aktivitas;
        penggunaCell.innerText = data.pengguna;
    });

    // --- Siswa Content ---
    const siswaForm = document.getElementById('siswa-form');
    const siswaTableBody = document.querySelector('#siswa-table tbody');

    function populateSiswaTable() {
        siswaTableBody.innerHTML = '';
        siswaData.forEach((siswa, index) => {
            let row = siswaTableBody.insertRow();
            let noCell = row.insertCell(0);
            let nisCell = row.insertCell(1);
            let namaCell = row.insertCell(2);
            let kelasCell = row.insertCell(3);
            let alamatCell = row.insertCell(4);
            let teleponCell = row.insertCell(5);
            let aksiCell = row.insertCell(6);

            noCell.innerText = index + 1;
            nisCell.innerText = siswa.nis;
            namaCell.innerText = siswa.nama;
            kelasCell.innerText = siswa.kelas;
            alamatCell.innerText = siswa.alamat;
            teleponCell.innerText = siswa.telepon;

            aksiCell.innerHTML = `
                <div class="action-buttons">
                    <button class="action-btn edit-btn" data-index="${index}">Edit</button>
                    <button class="action-btn delete-btn" data-index="${index}">Hapus</button>
                    <button class="action-btn view-btn" data-index="${index}">Lihat</button>
                </div>
            `;
        });
    }

    populateSiswaTable();

    siswaForm.addEventListener('submit', function(e) {
        e.preventDefault();

        const nis = document.getElementById('nis').value;
        const nama = document.getElementById('nama').value;
        const kelas = document.getElementById('kelas').value;
        const alamat = document.getElementById('alamat').value;
        const telepon = document.getElementById('telepon').value;

        siswaData.push({ nis: nis, nama: nama, kelas: kelas, alamat: alamat, telepon: telepon });
        populateSiswaTable();
        siswaForm.reset();
    });

    // --- Guru Content ---
    const guruForm = document.getElementById('guru-form');
    const guruTableBody = document.querySelector('#guru-table tbody');

    function populateGuruTable() {
        guruTableBody.innerHTML = '';
        guruData.forEach((guru, index) => {
            let row = guruTableBody.insertRow();
            let noCell = row.insertCell(0);
            let nipCell = row.insertCell(1);
            let namaCell = row.insertCell(2);
            let mapelCell = row.insertCell(3);
            let teleponCell = row.insertCell(4);
            let aksiCell = row.insertCell(5);

            noCell.innerText = index + 1;
            nipCell.innerText = guru.nip;
            namaCell.innerText = guru.nama;
            mapelCell.innerText = guru.mapel;
            teleponCell.innerText = guru.telepon;

            aksiCell.innerHTML = `
                <div class="action-buttons">
                    <button class="action-btn edit-btn" data-index="${index}">Edit</button>
                    <button class="action-btn delete-btn" data-index="${index}">Hapus</button>
                    <button class="action-btn view-btn" data-index="${index}">Lihat</button>
                </div>
            `;
        });
    }

    populateGuruTable();

    guruForm.addEventListener('submit', function(e) {
        e.preventDefault();

        const nip = document.getElementById('nip').value;
        const nama = document.getElementById('nama-guru').value;
        const mapel = document.getElementById('mapel').value;
        const telepon = document.getElementById('telepon-guru').value;

        guruData.push({ nip: nip, nama: nama, mapel: mapel, telepon: telepon });
        populateGuruTable();
        guruForm.reset();
    });

    // --- Kelas Content ---
    const kelasForm = document.getElementById('kelas-form');
    const kelasTableBody = document.querySelector('#kelas-table tbody');
    const waliKelasSelect = document.getElementById('wali-kelas');

    function populateKelasTable() {
        kelasTableBody.innerHTML = '';
        kelasData.forEach((kelas, index) => {
            let row = kelasTableBody.insertRow();
            let noCell = row.insertCell(0);
            let kodeKelasCell = row.insertCell(1);
            let namaKelasCell = row.insertCell(2);
            let waliKelasCell = row.insertCell(3);
            let kapasitasCell = row.insertCell(4);
            let aksiCell = row.insertCell(5);

            noCell.innerText = index + 1;
            kodeKelasCell.innerText = kelas.kodeKelas;
            namaKelasCell.innerText = kelas.namaKelas;
            waliKelasCell.innerText = kelas.waliKelas;
            kapasitasCell.innerText = kelas.kapasitas;

            aksiCell.innerHTML = `
                <div class="action-buttons">
                    <button class="action-btn edit-btn" data-index="${index}">Edit</button>
                    <button class="action-btn delete-btn" data-index="${index}">Hapus</button>
                    <button class="action-btn view-btn" data-index="${index}">Lihat</button>
                </div>
            `;
        });
    }

    function populateWaliKelasOptions() {
        waliKelasSelect.innerHTML = '<option value="">Pilih Wali Kelas</option>';
        guruData.forEach(guru => {
            let option = document.createElement('option');
            option.value = guru.nama;
            option.innerText = guru.nama;
            waliKelasSelect.appendChild(option);
        });
    }

    populateWaliKelasOptions();
    populateKelasTable();

    kelasForm.addEventListener('submit', function(e) {
        e.preventDefault();

        const kodeKelas = document.getElementById('kode-kelas').value;
        const namaKelas = document.getElementById('nama-kelas').value;
        const waliKelas = document.getElementById('wali-kelas').value;
        const kapasitas = document.getElementById('kapasitas').value;

        kelasData.push({ kodeKelas: kodeKelas, namaKelas: namaKelas, waliKelas: waliKelas, kapasitas: kapasitas });
        populateKelasTable();
        kelasForm.reset();
    });

    // --- Pelajaran Content ---
    const pelajaranForm = document.getElementById('pelajaran-form');
    const pelajaranTableBody = document.querySelector('#pelajaran-table tbody');
    const guruPelajaranSelect = document.getElementById('guru-pelajaran');

    function populatePelajaranTable() {
        pelajaranTableBody.innerHTML = '';
        pelajaranData.forEach((pelajaran, index) => {
            let row = pelajaranTableBody.insertRow();
            let noCell = row.insertCell(0);
            let kodeCell = row.insertCell(1);
            let namaPelajaranCell = row.insertCell(2);
            let guruPengampuCell = row.insertCell(3);
            let aksiCell = row.insertCell(4);

            noCell.innerText = index + 1;
            kodeCell.innerText = pelajaran.kode;
            namaPelajaranCell.innerText = pelajaran.namaPelajaran;
            guruPengampuCell.innerText = pelajaran.guruPengampu;

            aksiCell.innerHTML = `
                <div class="action-buttons">
                    <button class="action-btn edit-btn" data-index="${index}">Edit</button>
                    <button class="action-btn delete-btn" data-index="${index}">Hapus</button>
                    <button class="action-btn view-btn" data-index="${index}">Lihat</button>
                </div>
            `;
        });
    }

    function populateGuruPelajaranOptions() {
        guruPelajaranSelect.innerHTML = '<option value="">Pilih Guru</option>';
        guruData.forEach(guru => {
            let option = document.createElement('option');
            option.value = guru.nama;
            option.innerText = guru.nama;
            guruPelajaranSelect.appendChild(option);
        });
    }

    populateGuruPelajaranOptions();
    populatePelajaranTable();

    pelajaranForm.addEventListener('submit', function(e) {
        e.preventDefault();

        const kode = document.getElementById('kode-pelajaran').value;
        const namaPelajaran = document.getElementById('nama-pelajaran').value;
        const guruPengampu = document.getElementById('guru-pelajaran').value;

        pelajaranData.push({ kode: kode, namaPelajaran: namaPelajaran, guruPengampu: guruPengampu });
        populatePelajaranTable();
        pelajaranForm.reset();
    });

    // --- Nilai Content ---
    const nilaiForm = document.getElementById('nilai-form');
    const nilaiTableBody = document.querySelector('#nilai-table tbody');
    const siswaNilaiSelect = document.getElementById('siswa-nilai');
    const pelajaranNilaiSelect = document.getElementById('pelajaran-nilai');

    function calculateAverage(uh, uts, uas) {
        uh = parseInt(uh);
        uts = parseInt(uts);
        uas = parseInt(uas);
        return ((uh + uts + uas) / 3).toFixed(2);
    }

    function populateNilaiTable() {
        nilaiTableBody.innerHTML = '';
        nilaiData.forEach((nilai, index) => {
            let row = nilaiTableBody.insertRow();
            let noCell = row.insertCell(0);
            let namaSiswaCell = row.insertCell(1);
            let kelasCell = row.insertCell(2);
            let mataPelajaranCell = row.insertCell(3);
            let semesterCell = row.insertCell(4);
            let uhCell = row.insertCell(5);
            let utsCell = row.insertCell(6);
            let uasCell = row.insertCell(7);
            let rataRataCell = row.insertCell(8);
            let aksiCell = row.insertCell(9);

            let rataRata = calculateAverage(nilai.uh, nilai.uts, nilai.uas);

            noCell.innerText = index + 1;
            namaSiswaCell.innerText = nilai.namaSiswa;
            kelasCell.innerText = nilai.kelas;
            mataPelajaranCell.innerText = nilai.mataPelajaran;
            semesterCell.innerText = nilai.semester;
            uhCell.innerText = nilai.uh;
            utsCell.innerText = nilai.uts;
            uasCell.innerText = nilai.uas;
            rataRataCell.innerText = rataRata;

            aksiCell.innerHTML = `
                <div class="action-buttons">
                    <button class="action-btn edit-btn" data-index="${index}">Edit</button>
                    <button class="action-btn delete-btn" data-index="${index}">Hapus</button>
                    <button class="action-btn view-btn" data-index="${index}">Lihat</button>
                </div>
            `;
        });
    }

    function populateSiswaNilaiOptions() {
        siswaNilaiSelect.innerHTML = '<option value="">Pilih Siswa</option>';
        siswaData.forEach(siswa => {
            let option = document.createElement('option');
            option.value = siswa.nama;
            option.innerText = siswa.nama;
            siswaNilaiSelect.appendChild(option);
        });
    }

    function populatePelajaranNilaiOptions() {
        pelajaranNilaiSelect.innerHTML = '<option value="">Pilih Mata Pelajaran</option>';
        pelajaranData.forEach(pelajaran => {
            let option = document.createElement('option');
            option.value = pelajaran.namaPelajaran;
            option.innerText = pelajaran.namaPelajaran;
            pelajaranNilaiSelect.appendChild(option);
        });
    }

    populateSiswaNilaiOptions();
    populatePelajaranNilaiOptions();
    populateNilaiTable();

    nilaiForm.addEventListener('submit', function(e) {
        e.preventDefault();

        const siswaNilai = document.getElementById('siswa-nilai').value;
        const pelajaranNilai = document.getElementById('pelajaran-nilai').value;
        const semester = document.getElementById('semester').value;
        const nilaiUh = document.getElementById('nilai-uh').value;
        const nilaiUts = document.getElementById('nilai-uts').value;
        const nilaiUas = document.getElementById('nilai-uas').value;

        const selectedSiswa = siswaData.find(siswa => siswa.nama === siswaNilai);
        const kelas = selectedSiswa ? selectedSiswa.kelas : 'Unknown';

        nilaiData.push({
            namaSiswa: siswaNilai,
            kelas: kelas,
            mataPelajaran: pelajaranNilai,
            semester: semester,
            uh: nilaiUh,
            uts: nilaiUts,
            uas: nilaiUas
        });

        populateNilaiTable();
        nilaiForm.reset();
    });

    // --- Absensi Content ---
    const absensiForm = document.getElementById('absensi-form');
    const kelasAbsensiSelect = document.getElementById('kelas-absensi');
    const pelajaranAbsensiSelect = document.getElementById('pelajaran-absensi');
    const guruAbsensiSelect = document.getElementById('guru-absensi');
    const btnTampilkanSiswa = document.getElementById('btn-tampilkan-siswa');
    const daftarSiswaAbsensiDiv = document.getElementById('daftar-siswa-absensi');
    const absensiTableBody = document.querySelector('#absensi-table tbody');
    const formDaftarAbsensi = document.getElementById('form-daftar-absensi');

    function populatePelajaranAbsensiOptions() {
        pelajaranAbsensiSelect.innerHTML = '<option value="">Pilih Mata Pelajaran</option>';
        pelajaranData.forEach(pelajaran => {
            let option = document.createElement('option');
            option.value = pelajaran.namaPelajaran;
            option.innerText = pelajaran.namaPelajaran;
            pelajaranAbsensiSelect.appendChild(option);
        });
    }

    function populateGuruAbsensiOptions() {
        guruAbsensiSelect.innerHTML = '<option value="">Pilih Guru</option>';
        guruData.forEach(guru => {
            let option = document.createElement('option');
            option.value = guru.nama;
            option.innerText = guru.nama;
            guruAbsensiSelect.appendChild(option);
        });
    }

    populatePelajaranAbsensiOptions();
    populateGuruAbsensiOptions();

    btnTampilkanSiswa.addEventListener('click', function(e) {
        e.preventDefault();

        const kelasAbsensi = document.getElementById('kelas-absensi').value;
        const siswaKelas = siswaData.filter(siswa => siswa.kelas === kelasAbsensi);

        absensiTableBody.innerHTML = '';
        siswaKelas.forEach((siswa, index) => {
            let row = absensiTableBody.insertRow();
            let noCell = row.insertCell(0);
            let nisCell = row.insertCell(1);
            let namaSiswaCell = row.insertCell(2);
            let statusCell = row.insertCell(3);
            let keteranganCell = row.insertCell(4);

            noCell.innerText = index + 1;
            nisCell.innerText = siswa.nis;
            namaSiswaCell.innerText = siswa.nama;

            statusCell.innerHTML = `
                <select class="form-control status-select" required>
                    <option value="Hadir">Hadir</option>
                    <option value="Izin">Izin</option>
                    <option value="Sakit">Sakit</option>
                    <option value="Alpha">Alpha</option>
                </select>
            `;

            keteranganCell.innerHTML = '<input type="text" class="form-control keterangan-input" placeholder="Keterangan">';
        });

        daftarSiswaAbsensiDiv.classList.remove('hidden');
    });

    formDaftarAbsensi.addEventListener('submit', function(e) {
        e.preventDefault();

        const tanggalAbsensi = document.getElementById('tanggal-absensi').value;
        const kelasAbsensi = document.getElementById('kelas-absensi').value;
        const pelajaranAbsensi = document.getElementById('pelajaran-absensi').value;
        const guruAbsensi = document.getElementById('guru-absensi').value;

        const rekapAbsensiTableBody = document.querySelector('#rekap-absensi-table tbody');
        const newRow = rekapAbsensiTableBody.insertRow();

        const noCell = newRow.insertCell(0);
        const tanggalCell = newRow.insertCell(1);
        const kelasCell = newRow.insertCell(2);
        const mapelCell = newRow.insertCell(3);
        const guruCell = newRow.insertCell(4);
        const hadirCell = newRow.insertCell(5);
        const izinCell = newRow.insertCell(6);
        const sakitCell = newRow.insertCell(7);
        const alphaCell = newRow.insertCell(8);
        const aksiCell = newRow.insertCell(9);

        const statusSelects = document.querySelectorAll('.status-select');
        let hadirCount = 0;
        let izinCount = 0;
        let sakitCount = 0;
        let alphaCount = 0;

        statusSelects.forEach(select => {
            const status = select.value;
            if (status === 'Hadir') hadirCount++;
            else if (status === 'Izin') izinCount++;
            else if (status === 'Sakit') sakitCount++;
            else if (status === 'Alpha') alphaCount++;
        });

        noCell.innerText = rekapAbsensiTableBody.rows.length;
        tanggalCell.innerText = tanggalAbsensi;
        kelasCell.innerText = kelasAbsensi;
        mapelCell.innerText = pelajaranAbsensi;
        guruCell.innerText = guruAbsensi;
        hadirCell.innerText = hadirCount;
        izinCell.innerText = izinCount;
        sakitCell.innerText = sakitCount;
        alphaCell.innerText = alphaCount;

        aksiCell.innerHTML = `
            <div class="action-buttons">
                <button class="action-btn edit-btn">Edit</button>
                <button class="action-btn delete-btn">Hapus</button>
                <button class="action-btn view-btn">Lihat</button>
            </div>
        `;
        rekapAbsensiData.push({
            tanggal: tanggalAbsensi,
            kelas: kelasAbsensi,
            mapel: pelajaranAbsensi,
            guru: guruAbsensi,
            hadir: hadirCount,
            izin: izinCount,
            sakit: sakitCount,
            alpha: alphaCount
        });
    });

    // --- Pengguna Content ---
    const penggunaForm = document.getElementById('pengguna-form');
    const penggunaTableBody = document.querySelector('#pengguna-table tbody');

    function populatePenggunaTable() {
        penggunaTableBody.innerHTML = '';
        penggunaData.forEach((pengguna, index) => {
            let row = penggunaTableBody.insertRow();
            let noCell = row.insertCell(0);
            let usernameCell = row.insertCell(1);
            let namaCell = row.insertCell(2);
            let roleCell = row.insertCell(3);
            let emailCell = row.insertCell(4);
            let statusCell = row.insertCell(5);
            let aksiCell = row.insertCell(6);

            noCell.innerText = index + 1;
            usernameCell.innerText = pengguna.username;
            namaCell.innerText = pengguna.nama;
            roleCell.innerText = pengguna.role;
            emailCell.innerText = pengguna.email;
            statusCell.innerText = pengguna.status;

            aksiCell.innerHTML = `
                <div class="action-buttons">
                    <button class="action-btn edit-btn" data-index="${index}">Edit</button>
                    <button class="action-btn delete-btn" data-index="${index}">Hapus</button>
                    <button class="action-btn view-btn" data-index="${index}">Lihat</button>
                </div>
            `;
        });
    }

    populatePenggunaTable();

    penggunaForm.addEventListener('submit', function(e) {
        e.preventDefault();

        const username = document.getElementById('username').value;
        const namaPengguna = document.getElementById('nama-pengguna').value;
        const role = document.getElementById('role').value;
        const email = document.getElementById('email').value;

        penggunaData.push({
            username: username,
            nama: namaPengguna,
            role: role,
            email: email,
            status: 'Aktif'
        });
        populatePenggunaTable();
        penggunaForm.reset();
    });

    // --- Laporan Content ---
    const filterLaporanForm = document.getElementById('filter-laporan-form');
    const jenisLaporanSelect = document.getElementById('jenis-laporan');
    const kelasLaporanSelect = document.getElementById('kelas-laporan');
    const semesterLaporanSelect = document.getElementById('semester-laporan');
    const laporanContainer = document.getElementById('laporan-container');
    const btnCetakLaporan = document.getElementById('btn-cetak-laporan');

    function generateLaporan(jenisLaporan, kelas, semester) {
        let laporanHTML = '';

        if (jenisLaporan === 'siswa') {
            laporanHTML += '<h2>Laporan Data Siswa</h2>';
            laporanHTML += '<table class="table table-bordered">';
            laporanHTML += '<thead><tr><th>No</th><th>NIS</th><th>Nama</th><th>Kelas</th><th>Alamat</th><th>Telepon</th></tr></thead>';
            laporanHTML += '<tbody>';

            let filteredSiswa = siswaData;
            if (kelas !== '') {
                filteredSiswa = siswaData.filter(siswa => siswa.kelas === kelas);
            }

            filteredSiswa.forEach((siswa, index) => {
                laporanHTML += `<tr><td>${index + 1}</td><td>${siswa.nis}</td><td>${siswa.nama}</td><td>${siswa.kelas}</td><td>${siswa.alamat}</td><td>${siswa.telepon}</td></tr>`;
            });

            laporanHTML += '</tbody></table>';
        } else if (jenisLaporan === 'guru') {
            laporanHTML += '<h2>Laporan Data Guru</h2>';
            laporanHTML += '<table class="table table-bordered">';
            laporanHTML += '<thead><tr><th>No</th><th>NIP</th><th>Nama</th><th>Mata Pelajaran</th><th>Telepon</th></tr></thead>';
            laporanHTML += '<tbody>';

            guruData.forEach((guru, index) => {
                laporanHTML += `<tr><td>${index + 1}</td><td>${guru.nip}</td><td>${guru.nama}</td><td>${guru.mapel}</td><td>${guru.telepon}</td></tr>`;
            });

            laporanHTML += '</tbody></table>';
        } else if (jenisLaporan === 'nilai') {
            laporanHTML += '<h2>Laporan Nilai Siswa</h2>';
            laporanHTML += '<table class="table table-bordered">';
            laporanHTML += '<thead><tr><th>No</th><th>Nama Siswa</th><th>Kelas</th><th>Mata Pelajaran</th><th>Semester</th><th>UH</th><th>UTS</th><th>UAS</th><th>Rata-rata</th></tr></thead>';
            laporanHTML += '<tbody>';

            let filteredNilai = nilaiData;
            if (kelas !== '') {
                filteredNilai = nilaiData.filter(nilai => nilai.kelas === kelas);
            }
            if (semester !== '') {
                filteredNilai = filteredNilai.filter(nilai => nilai.semester === semester);
            }

            filteredNilai.forEach((nilai, index) => {
                const rataRata = calculateAverage(nilai.uh, nilai.uts, nilai.uas);
                laporanHTML += `<tr><td>${index + 1}</td><td>${nilai.namaSiswa}</td><td>${nilai.kelas}</td><td>${nilai.mataPelajaran}</td><td>${nilai.semester}</td><td>${nilai.uh}</td><td>${nilai.uts}</td><td>${nilai.uas}</td><td>${rataRata}</td></tr>`;
            });

            laporanHTML += '</tbody></table>';
        } else if (jenisLaporan === 'absensi') {
            laporanHTML += '<h2>Laporan Absensi Siswa</h2>';
            laporanHTML += '<table class="table table-bordered">';
            laporanHTML += '<thead><tr><th>No</th><th>Tanggal</th><th>Kelas</th><th>Mata Pelajaran</th><th>Guru</th><th>Hadir</th><th>Izin</th><th>Sakit</th><th>Alpha</th></tr></thead>';
            laporanHTML += '<tbody>';

             rekapAbsensiData.forEach((absensi, index) => {
                 laporanHTML += `<tr>
                     <td>${index + 1}</td>
                     <td>${absensi.tanggal}</td>
                     <td>${absensi.kelas}</td>
                     <td>${absensi.mapel}</td>
                     <td>${absensi.guru}</td>
                     <td>${absensi.hadir}</td>
                     <td>${absensi.izin}</td>
                     <td>${absensi.sakit}</td>
                     <td>${absensi.alpha}</td>
                 </tr>`;
             });

            laporanHTML += '</tbody></table>';
        }
        else {
            laporanHTML = '<p class="text-center">Silakan pilih jenis laporan yang diinginkan.</p>';
        }

        return laporanHTML;
    }

    filterLaporanForm.addEventListener('submit', function(e) {
        e.preventDefault();

        const jenisLaporan = jenisLaporanSelect.value;
        const kelas = kelasLaporanSelect.value;
        const semester = semesterLaporanSelect.value;

        const laporanHTML = generateLaporan(jenisLaporan, kelas, semester);
        laporanContainer.innerHTML = laporanHTML;
    });

    btnCetakLaporan.addEventListener('click', function() {
        const jenisLaporan = jenisLaporanSelect.value;
        const kelas = kelasLaporanSelect.value;
        const semester = semesterLaporanSelect.value;

        const laporanHTML = generateLaporan(jenisLaporan, kelas, semester);
        const printWindow = window.open('', '_blank');
        printWindow.document.write('<html><head><title>Cetak Laporan</title>');
        printWindow.document.write('<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">');
        printWindow.document.write('</head><body>');
        printWindow.document.write(laporanHTML);
        printWindow.document.write('</body></html>');
        printWindow.document.close();
        printWindow.print();
    });

    // --- Initialization ---
    // Populate initial data and set up event listeners
    populateSiswaTable();
    populateGuruTable();
    populateKelasTable();
    populatePelajaranTable();
    populateNilaiTable();
    populatePenggunaTable();

    // Populate select options
    populateWaliKelasOptions();
    populateGuruPelajaranOptions();

    // Set Dashboard as default view
    hideAllContent();
    contentDivs['dashboard'].classList.remove('hidden');
    menuItems.forEach(item => {
        item.classList.remove('active');
        if (item.dataset.target === 'dashboard') {
            item.classList.add('active');
        }
    });
});
</script>